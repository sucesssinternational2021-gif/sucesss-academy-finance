<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Record Payment - Sucesss Academy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        body {
            background: #f5f7fa;
            color: #333;
        }
        .navbar {
            background: #2c3e50;
            color: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-size: 24px;
            font-weight: bold;
        }
        .logo span {
            color: #3498db;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 8px 15px;
            border-radius: 4px;
        }
        .nav-links a:hover {
            background: #34495e;
        }
        .nav-links a.active {
            background: #3498db;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
        }
        .page-header {
            margin-bottom: 30px;
        }
        .page-header h1 {
            color: #2c3e50;
            font-size: 28px;
        }
        .form-container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin-right: 10px;
        }
        .btn:hover {
            background: #2980b9;
        }
        .btn-success {
            background: #27ae60;
        }
        .btn-success:hover {
            background: #219653;
        }
        .btn-secondary {
            background: #7f8c8d;
        }
        .btn-secondary:hover {
            background: #6c7b7d;
        }
        .sucesss-badge {
            background: #3498db;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
        }
        .student-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }
        .student-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        .info-label {
            color: #7f8c8d;
        }
        .info-value {
            font-weight: bold;
            color: #2c3e50;
        }
        .receipt-preview {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-top: 30px;
            border: 2px dashed #ddd;
        }
        .receipt-preview h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .receipt-details {
            background: white;
            padding: 15px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            Sucesss<span>Academy</span>
            <span class="sucesss-badge">PAYMENT</span>
        </div>
        
        <div class="nav-links">
            <a href="finance-dashboard.html">Dashboard</a>
            <a href="payments.html">Payments</a>
            <a href="students.html">Students</a>
            <a href="record-payment.html" class="active">Record Payment</a>
            <a href="reports.html">Reports</a>
            <a href="index.html">Logout</a>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>üí≥ Record New Payment - Sucesss Academy</h1>
            <p style="color: #7f8c8d; margin-top: 5px;">Enter payment details for a student</p>
        </div>

        <div class="form-container">
            <!-- Student Selection -->
            <div class="form-group">
                <label for="studentSelect">Select Student *</label>
                <select id="studentSelect" onchange="loadStudentDetails()">
                    <option value="">-- Choose Student --</option>
                    <option value="SA2024-001">SA2024-001 - Adeola Johnson (Nursery 2)</option>
                    <option value="SA2024-002">SA2024-002 - Chinedu Okafor (Primary 4)</option>
                    <option value="SA2024-003">SA2024-003 - Fatima Bello (JSS 2)</option>
                    <option value="SA2024-004">SA2024-004 - Emeka Nwosu (SSS 1)</option>
                    <option value="SA2024-005">SA2024-005 - Grace Okoro (Nursery 1)</option>
                    <option value="SA2024-006">SA2024-006 - David Musa (Primary 2)</option>
                </select>
            </div>

            <!-- Student Information -->
            <div id="studentInfo" class="student-info" style="display: none;">
                <h3>üìã Student Information</h3>
                <div class="info-row">
                    <span class="info-label">Student Name:</span>
                    <span class="info-value" id="infoName">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Class:</span>
                    <span class="info-value" id="infoClass">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Term Fee:</span>
                    <span class="info-value" id="infoFee">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Already Paid:</span>
                    <span class="info-value" id="infoPaid">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Balance Due:</span>
                    <span class="info-value" id="infoBalance">-</span>
                </div>
            </div>

            <!-- Payment Details -->
            <h3 style="color: #2c3e50; margin: 30px 0 15px;">üí∞ Payment Details</h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="paymentDate">Payment Date *</label>
                    <input type="date" id="paymentDate" value="2024-12-02">
                </div>
                <div class="form-group">
                    <label for="paymentAmount">Amount Paid (‚Ç¶) *</label>
                    <input type="number" id="paymentAmount" placeholder="Enter amount" min="0">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="paymentMethod">Payment Method *</label>
                    <select id="paymentMethod">
                        <option value="">-- Select Method --</option>
                        <option value="cash">Cash</option>
                        <option value="bank">Bank Transfer</option>
                        <option value="pos">POS</option>
                        <option value="mobile">Mobile Money</option>
                        <option value="cheque">Cheque</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionId">Transaction/Reference ID</label>
                    <input type="text" id="transactionId" placeholder="Optional">
                </div>
            </div>

            <div class="form-group">
                <label for="paymentTerm">Payment For *</label>
                <select id="paymentTerm">
                    <option value="term1">First Term 2024/2025</option>
                    <option value="term2">Second Term 2024/2025</option>
                    <option value="term3">Third Term 2024/2025</option>
                    <option value="others">Other Fees</option>
                </select>
            </div>

            <div class="form-group">
                <label for="paymentNotes">Notes (Optional)</label>
                <textarea id="paymentNotes" rows="3" placeholder="Add any notes about this payment..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px;"></textarea>
            </div>

            <!-- Receipt Preview -->
            <div id="receiptPreview" class="receipt-preview" style="display: none;">
                <h3>üßæ Receipt Preview</h3>
                <div class="receipt-details">
                    <div style="text-align: center; margin-bottom: 15px;">
                        <h4 style="color: #2c3e50;">Sucesss Academy International</h4>
                        <p style="color: #7f8c8d; font-size: 14px;">OFFICIAL PAYMENT RECEIPT</p>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Receipt No:</span>
                        <span class="info-value" id="receiptNo">SA2024-001</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Date:</span>
                        <span class="info-value" id="receiptDate">Dec 2, 2024</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Student:</span>
                        <span class="info-value" id="receiptStudent">-</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Amount:</span>
                        <span class="info-value" id="receiptAmount">‚Ç¶0</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">Method:</span>
                        <span class="info-value" id="receiptMethod">-</span>
                    </div>
                </div>
            </div>

            <!-- Form Actions -->
            <div style="margin-top: 30px; display: flex; justify-content: space-between;">
                <a href="payments.html" class="btn btn-secondary">‚Üê Cancel</a>
                <div>
                    <button class="btn" onclick="previewReceipt()">üëÅÔ∏è Preview Receipt</button>
                    <button class="btn btn-success" onclick="submitPayment()">‚úÖ Submit Payment</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const studentData = {
            'SA2024-001': {
                name: 'Adeola Johnson',
                class: 'Nursery 2',
                fee: '‚Ç¶85,000',
                paid: '‚Ç¶0',
                balance: '‚Ç¶85,000'
            },
            'SA2024-002': {
                name: 'Chinedu Okafor',
                class: 'Primary 4',
                fee: '‚Ç¶120,000',
                paid: '‚Ç¶0',
                balance: '‚Ç¶120,000'
            },
            'SA2024-003': {
                name: 'Fatima Bello',
                class: 'JSS 2',
                fee: '‚Ç¶150,000',
                paid: '‚Ç¶75,000',
                balance: '‚Ç¶75,000'
            },
            'SA2024-004': {
                name: 'Emeka Nwosu',
                class: 'SSS 1',
                fee: '‚Ç¶180,000',
                paid: '‚Ç¶0',
                balance: '‚Ç¶180,000'
            }
        };

        function loadStudentDetails() {
            const studentId = document.getElementById('studentSelect').value;
            const studentInfo = document.getElementById('studentInfo');
            
            if (studentId && studentData[studentId]) {
                const data = studentData[studentId];
                
                document.getElementById('infoName').textContent = data.name;
                document.getElementById('infoClass').textContent = data.class;
                document.getElementById('infoFee').textContent = data.fee;
                document.getElementById('infoPaid').textContent = data.paid;
                document.getElementById('infoBalance').textContent = data.balance;
                
                studentInfo.style.display = 'block';
                
                // Set default payment amount to balance
                const balance = parseInt(data.balance.replace('‚Ç¶', '').replace(',', ''));
                document.getElementById('paymentAmount').value = balance;
            } else {
                studentInfo.style.display = 'none';
            }
        }

        function previewReceipt() {
            const studentId = document.getElementById('studentSelect').value;
            const amount = document.getElementById('paymentAmount').value;
            const method = document.getElementById('paymentMethod').value;
            const date = document.getElementById('paymentDate').value;
            
            if (!studentId || !amount || !method) {
                alert('Please fill in all required fields before previewing receipt.');
                return;
            }
            
            const receiptPreview = document.getElementById('receiptPreview');
            const data = studentData[studentId] || {name: 'Unknown Student'};
            
            document.getElementById('receiptNo').textContent = 'SA' + new Date().getFullYear() + '-' + Math.floor(Math.random() * 1000);
            document.getElementById('receiptDate').textContent = new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
            document.getElementById('receiptStudent').textContent = data.name + ' (' + data.class + ')';
            document.getElementById('receiptAmount').textContent = '‚Ç¶' + parseInt(amount).toLocaleString();
            document.getElementById('receiptMethod').textContent = method.charAt(0).toUpperCase() + method.slice(1);
            
            receiptPreview.style.display = 'block';
        }

        function submitPayment() {
            const studentId = document.getElementById('studentSelect').value;
            const amount = document.getElementById('paymentAmount').value;
            const method = document.getElementById('paymentMethod').value;
            const date = document.getElementById('paymentDate').value;
            
            if (!studentId || !amount || !method || !date) {
                alert('Please fill in all required fields (marked with *).');
                return;
            }
            
            if (confirm(`Confirm payment of ‚Ç¶${parseInt(amount).toLocaleString()} for ${studentId}?\nThis action cannot be undone.`)) {
                // Simulate payment processing
                alert('‚úÖ Payment recorded successfully!\nRedirecting to payments page...');
                
                // Redirect to payments page after 2 seconds
                setTimeout(() => {
                    window.location.href = 'payments.html';
                }, 2000);
            }
        }

        // Set default date to today
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('paymentDate').value = today;
            
            console.log('Sucesss Academy Record Payment page loaded');
        });
    </script>
</body>
</html>
